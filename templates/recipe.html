{% with page=page %}
  {% include "header.html" %}
{% endwith %}
<main id="recipe">
    <div class="container">
        <div class="row">
            <div class="card pl-lg-3 pr-lg-3 mt-4 mb-4">
                <div class="card-header">
                    <h3 class="card-title mb-0 mt-3">{{ results["Title"] }}</h3>
                    <div class="subtitle">{{ results["Author"] }}</div>
                </div>
                <div class="card-body">
                    <h5>Introduction</h5>
                    <p id="description">{{ results["Description"] }}</p>
                    <h5>Ingredients</h5>
                    <div id="ingredients">
                        {% if is_list %}
                            <ul>
                                {% for ingredient in ingredients %}
                                <li>{{ ingredient }}</li>
                                {% endfor %}
                            </ul>
                        {% else %}
                            {% for key, value in ingredients.items() %}
                                <h6>{{ key }}</h6>
                                <ul>
                                {% for item in value %}
                                    <li>{{ item }}</li>
                                {% endfor %}
                                </ul>
                            {% endfor %}
                        {% endif %}
                    </div>
                    <div id="instructions" class="mt-3">
                        <h5>Instructions</h5>
                        {% for step in results["Instructions"] %}
                            <p>{{ step }}</p>
                        {% endfor %}
                    </div>
                    <div id="year">
                        New York Times @ {{ results["Year"] }}
                    </div>
                    <button type="button" class="btn btn-primary-outline" data-bs-toggle="modal" data-bs-target="#nutritionModal">
                      Nutrition Info
                    </button>
                </div>
                <div class="card-footer"><a class="btn btn-primary-outline" href="{{ domain }}/nyt_recipes?page={{ page }}"><i class="bi bi-arrow-bar-left"></i>Back to Recipes</a></div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="nutritionModal" tabindex="-1" aria-labelledby="nutritionModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="nutritionModalLabel">Nutrition Information</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <h5>{{ results["Servings"] }}</h5>
              <ul>
                  <li>Calories: {{ results["Nutrition"]["calories"] }}</li>
                  <li>Fat: {{ results["Nutrition"]["fatContent"] }}</li>
                  <li class="sub-content">Saturated Fat: {{ results["Nutrition"]["saturatedFatContent"] }}</li>
                  <li class="sub-content">Unsaturated Fat: {{ results["Nutrition"]["unsaturatedFatContent"] }}</li>
                  <li>Fiber: {{ results["Nutrition"]["fiberContent"] }}</li>
                  <li>Carbohydrates: {{ results["Nutrition"]["carbohydrateContent"] }}</li>
                  <li>Protein: {{ results["Nutrition"]["proteinContent"] }}</li>
                  <li>Sodium: {{ results["Nutrition"]["sodiumContent"] }}</li>
              </ul>
          </div>
        </div>
      </div>
    </div>
</main>
{% with year=year %}
  {% include "footer.html" %}
{% endwith %}